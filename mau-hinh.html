<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trading Journal Pro</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: { 750: '#293548', 850: '#172033', 900: '#0f172a', 950: '#020617' }
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        ::-webkit-scrollbar { width: 5px; height: 5px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: transparent; }
        .dark ::-webkit-scrollbar-thumb { background: #475569; }
        .fade-in { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .spin { animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .mini-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 3px; }
        .mini-box { aspect-ratio: 1; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; color: white; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .bg-win { background: linear-gradient(135deg, #10b981, #059669); }
        .bg-loss { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .bg-be { background-color: #94a3b8; }
        .bg-run { background-color: #3b82f6; }
        .bg-empty { background-color: #e2e8f0; border: 1px dashed #cbd5e1; }
        .dark .bg-empty { background-color: #1e293b; border-color: #334155; }
        .input-group label { font-size: 0.75rem; font-weight: 700; margin-bottom: 0.25rem; display: block; text-transform: uppercase; letter-spacing: 0.025em; color: #64748b; }
        .dark .input-group label { color: #94a3b8; }
        .input-custom { width: 100%; padding: 0.75rem; border-radius: 0.5rem; font-size: 0.875rem; outline: none; transition: all 0.2s; background-color: white; border: 1px solid #e2e8f0; color: #1e293b; }
        .dark .input-custom { background-color: #1e293b; border-color: #334155; color: #f1f5f9; }
        .input-custom:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); }
        .table-container th { position: sticky; top: 0; z-index: 10; }
        .nav-item { cursor: pointer; padding: 0.75rem 0; text-align: center; font-weight: 600; font-size: 0.875rem; border-bottom: 2px solid transparent; transition: all 0.2s; color: #64748b; }
        .nav-item.active { color: #2563eb; border-bottom-color: #2563eb; }
        .nav-item:hover:not(.active) { color: #334155; }
        .dark .nav-item { color: #94a3b8; }
        .dark .nav-item.active { color: #60a5fa; border-bottom-color: #60a5fa; }
        .dark .nav-item:hover:not(.active) { color: #e2e8f0; }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden bg-[#f8fafc] text-slate-800 dark:bg-[#0f172a] dark:text-slate-200 transition-colors duration-300">

    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbz4wW8RLRipmtqbViIRXOxrdeV9SyPSmeaDE_4FM1OZt0ABxLET4Ja90P7rZKzCsAFvgw/exec"; // THAY LINK C·ª¶A B·∫†N V√ÄO ƒê√ÇY
    </script>

    <header class="bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 z-50 shrink-0 shadow-sm transition-colors">
        <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center text-white shadow-md">
                    <i class="fa-solid fa-chart-simple"></i>
                </div>
                <div>
                    <h1 class="font-bold text-slate-800 dark:text-white text-base leading-tight">Trading Journal</h1>
                    <p class="text-[10px] text-slate-400 dark:text-slate-500 font-medium">Professional Tracker</p>
                </div>
            </div>
            
            <div class="flex gap-2">
                <button onclick="toggleTheme()" class="w-9 h-9 rounded-full bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-yellow-400 hover:bg-slate-100 dark:hover:bg-slate-600 transition flex items-center justify-center border border-slate-200 dark:border-slate-600">
                    <i id="theme-icon" class="fa-solid fa-moon"></i>
                </button>
                <button onclick="reloadData()" class="w-9 h-9 rounded-full bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-blue-50 hover:text-blue-600 dark:hover:text-blue-400 transition flex items-center justify-center border border-slate-200 dark:border-slate-600">
                    <i id="icon-reload" class="fa-solid fa-rotate"></i>
                </button>
            </div>
        </div>

        <div class="bg-white dark:bg-slate-800 px-4 border-t border-slate-100 dark:border-slate-700 transition-colors">
            <div class="max-w-6xl mx-auto grid grid-cols-4 gap-4">
                <div onclick="switchTab('form')" id="tab-form" class="nav-item active"><i class="fa-solid fa-file-pen"></i> NH·∫¨P L·ªÜNH</div>
                <div onclick="switchTab('history')" id="tab-history" class="nav-item"><i class="fa-solid fa-clock-rotate-left"></i> L·ªäCH S·ª¨</div>
                <div onclick="switchTab('stats')" id="tab-stats" class="nav-item"><i class="fa-solid fa-chart-line"></i> TH·ªêNG K√ä</div>
                <div onclick="switchTab('playbook')" id="tab-playbook" class="nav-item"><i class="fa-solid fa-images text-xl mb-1 group-[.active]:text-blue-600 dark:group-[.active]:text-blue-500"></i>PLAYBOOK</div>

            </div>
        </div>
    </header>

    <div class="flex-1 overflow-y-auto relative">
        <div class="max-w-5xl mx-auto p-4 pb-24 min-h-full">

            <div id="view-form" class="fade-in">
                <form id="tradeForm" onsubmit="submitTrade(event)" class="space-y-5 max-w-2xl mx-auto">
                    <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors">
                        <h3 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase mb-4 flex items-center gap-2"><i class="fa-regular fa-image"></i> B·∫±ng ch·ª©ng v√†o l·ªánh</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <input type="text" name="htf" class="input-custom" placeholder="Link ·∫£nh HTF...">
                            <input type="text" name="ltf" class="input-custom" placeholder="Link ·∫£nh LTF...">
                            <input type="text" name="image_link" class="input-custom" placeholder="Link Entry...">
                        </div>
                    </div>
                    <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors">
                        <h3 class="text-xs font-bold text-slate-400 dark:text-slate-500 uppercase mb-4 flex items-center gap-2"><i class="fa-solid fa-sliders"></i> Thi·∫øt l·∫≠p l·ªánh</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="input-group">
                                <label>M·∫´u h√¨nh (Setup)</label>
                                <input type="text" name="mau_hinh" list="dl-pattern" class="input-custom font-semibold text-indigo-700 dark:text-indigo-400" placeholder="Ch·ªçn m·∫´u...">
                                <datalist id="dl-pattern"></datalist>
                            </div>
                            <div class="input-group">
                                <label>D√≤ng ti·ªÅn</label>
                                <input type="text" name="dong_tien" list="dl-money" class="input-custom" placeholder="Ch·ªçn...">
                                <datalist id="dl-money"></datalist>
                            </div>
                            <div class="md:col-span-2 flex items-center p-3 bg-slate-50 dark:bg-slate-750 rounded-lg border border-slate-200 dark:border-slate-600 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition" onclick="document.getElementById('co_vol').click()">
                                <input type="checkbox" name="co_vol" id="co_vol" class="w-5 h-5 accent-blue-600 cursor-pointer">
                                <span class="ml-3 text-sm font-semibold text-slate-700 dark:text-slate-300">C√≥ Volume x√°c nh·∫≠n?</span>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 transition-colors">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="input-group">
                                <label>K·∫øt qu·∫£</label>
                                <select name="ket_qua" id="sel-result" onchange="updateColor(this)" class="input-custom font-bold text-blue-600 bg-blue-50 border-blue-200 dark:bg-slate-900 dark:border-slate-600">
                                    <option value="ƒêang ch·∫°y">‚è≥ ƒêang ch·∫°y</option>
                                    <option value="Win">‚úÖ Win</option>
                                    <option value="Loss">‚ùå Loss</option>
                                    <option value="BE">‚ö™ H√≤a (BE)</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>RR ƒê·∫°t ƒë∆∞·ª£c</label>
                                <input type="number" name="rr_ratio" step="0.1" class="input-custom font-bold" placeholder="2.5">
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 space-y-3 transition-colors">
                        <textarea name="ghi_chu" rows="2" class="input-custom" placeholder="üìù Ghi ch√∫ di·ªÖn bi·∫øn..."></textarea>
                        <textarea name="ket_luan" rows="2" class="input-custom bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-900/50 focus:bg-white dark:focus:bg-slate-900" placeholder="üí° B√†i h·ªçc..."></textarea>
                    </div>
                    <button type="submit" id="btnSubmit" class="w-full py-4 bg-slate-900 dark:bg-blue-600 text-white rounded-xl font-bold text-lg shadow-lg hover:bg-slate-800 dark:hover:bg-blue-500 active:scale-[0.99] transition-all flex items-center justify-center gap-2">
                        <i class="fa-regular fa-paper-plane"></i> L∆ØU NH·∫¨T K√ù
                    </button>
                </form>
            </div>

            <div id="view-history" class="hidden fade-in h-full flex flex-col">
                <div class="mb-3 flex justify-between items-center px-1">
                    <span class="text-sm font-bold text-slate-500 dark:text-slate-400">
                        <i class="fa-solid fa-list-ol mr-1"></i> Danh s√°ch l·ªánh
                    </span>
                    <span class="text-xs font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 px-3 py-1 rounded-full">
                        T·ªïng: <span id="total-trades" class="text-blue-600 dark:text-blue-400">0</span>
                    </span>
                </div>

                <div class="bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col h-full transition-colors">
                    <div class="overflow-auto flex-1 table-container">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr>
                                    <th class="pl-4 w-12 py-3 bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 text-xs font-bold uppercase">STT</th>
                                    <th class="py-3 bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 text-xs font-bold uppercase">Th·ªùi gian</th>
                                    <th class="py-3 bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 text-xs font-bold uppercase">M·∫´u h√¨nh</th>
                                    <th class="text-center py-3 bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 text-xs font-bold uppercase">KQ</th>
                                    <th class="text-center pr-4 py-3 bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-300 border-b border-slate-200 dark:border-slate-600 text-xs font-bold uppercase">RR</th>
                                </tr>
                            </thead>
                            <tbody id="history-table-body" class="text-sm divide-y divide-slate-100 dark:divide-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300">
                                </tbody>
                        </table>
                        <div id="loading-history" class="py-10 text-center text-slate-400 text-sm"><i class="fa-solid fa-spinner fa-spin mr-2"></i> ƒêang t·∫£i...</div>
                    </div>
                </div>
            </div>

            <div id="view-stats" class="hidden fade-in space-y-6">
                
                

                <div class="flex flex-col md:flex-row justify-between items-center gap-4 border-t border-slate-100 dark:border-slate-700 pt-6">
                    <div class="font-bold text-slate-700 dark:text-slate-300 text-sm">Chi ti·∫øt Blocks</div>
                    
                    <div class="flex gap-2">
                        <div class="bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700 inline-flex">
                            <label class="px-3 py-1.5 rounded-md text-xs font-bold cursor-pointer transition-all has-[:checked]:bg-slate-800 dark:has-[:checked]:bg-blue-600 has-[:checked]:text-white text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700">
                                <input type="radio" name="volFilter" value="all" checked onchange="renderBlockStats()" class="hidden"> All Vol
                            </label>
                            <label class="px-3 py-1.5 rounded-md text-xs font-bold cursor-pointer transition-all has-[:checked]:bg-slate-800 dark:has-[:checked]:bg-blue-600 has-[:checked]:text-white text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700">
                                <input type="radio" name="volFilter" value="C√≥" onchange="renderBlockStats()" class="hidden"> C√≥
                            </label>
                            <label class="px-3 py-1.5 rounded-md text-xs font-bold cursor-pointer transition-all has-[:checked]:bg-slate-800 dark:has-[:checked]:bg-blue-600 has-[:checked]:text-white text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700">
                                <input type="radio" name="volFilter" value="Kh√¥ng" onchange="renderBlockStats()" class="hidden"> Kh√¥ng
                            </label>
                        </div>

                        <div class="relative">
                            <select id="filter-money" onchange="renderBlockStats()" class="appearance-none bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-xs font-bold py-2 pl-3 pr-8 rounded-lg focus:outline-none cursor-pointer hover:bg-slate-50 h-full">
                                <option value="all">T·∫•t c·∫£ D√≤ng ti·ªÅn</option>
                            </select>
                            <div class="absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"><i class="fa-solid fa-chevron-down text-[10px]"></i></div>
                        </div>
                    </div>
                </div>

                <div id="blocks-container" class="space-y-4 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-5 md:space-y-0"></div>

                <div class="bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-slate-700 dark:text-slate-200 text-sm uppercase flex items-center gap-2">
                            <i class="fa-solid fa-chart-line text-blue-500"></i> TƒÉng tr∆∞·ªüng t√†i kho·∫£n (R)
                        </h3>
                        <div id="chart-info" class="text-xs font-bold text-slate-400">Total: 0R</div>
                    </div>
                    <div class="relative h-64 w-full">
                        <canvas id="equityChart"></canvas>
                    </div>
                </div>
            </div>
            <div id="view-playbook" class="hidden fade-in pb-20">
                
                <div class="flex justify-between items-end mb-6 px-1">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800 dark:text-white">Playbook</h2>
                        <p class="text-xs text-slate-500 dark:text-slate-400 font-medium mt-1">Ch·ªâ hi·ªÉn th·ªã c√°c l·ªánh TH·∫ÆNG c√≥ ·∫£nh Entry</p>
                        <p>Mu·ªën h√°i tr√°i ng·ªçt <i class="fa-solid fa-plant-wilt"></i> th√¨ ph·∫£i <i class="fa-solid fa-person-digging"></i></p>
                    </div>
                    
                    <div class="relative">
                        <select id="playbook-filter" onchange="renderPlaybook()" class="appearance-none bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-xs font-bold py-2 pl-3 pr-8 rounded-lg shadow-sm focus:outline-none">
                            <option value="all">T·∫•t c·∫£ Setup</option>
                            </select>
                        <div class="absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400"><i class="fa-solid fa-chevron-down text-[10px]"></i></div>
                    </div>
                </div>

                <div id="playbook-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                    </div>
                
                <div id="playbook-empty" class="hidden flex flex-col items-center justify-center py-20 text-slate-400">
                    <i class="fa-regular fa-image text-4xl mb-3 opacity-20"></i>
                    <p class="text-sm">Ch∆∞a c√≥ l·ªánh Win n√†o c√≥ ·∫£nh</p>
                </div>
            </div>

        </div>
    </div>

    <div id="detailModal" class="hidden fixed inset-0 z-[100] bg-slate-900/80 backdrop-blur-sm flex items-center justify-center p-4 transition-opacity duration-300">
        <div class="bg-white dark:bg-slate-800 w-full max-w-4xl max-h-[90vh] rounded-2xl overflow-hidden flex flex-col shadow-2xl animate-[fadeIn_0.2s_ease-out]">
            <div class="p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-750">
                <div>
                    <h3 class="font-bold text-slate-800 dark:text-white" id="modal-title">Chi ti·∫øt</h3>
                    <p class="text-xs text-slate-400" id="modal-time">--</p>
                </div>
                <button onclick="closeModal()" class="w-8 h-8 rounded-full bg-white dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center justify-center text-slate-600 dark:text-slate-300 transition"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="flex-1 overflow-y-auto bg-slate-100 dark:bg-[#0f172a] p-4 flex flex-col md:flex-row gap-4">
                <div class="flex-1 flex flex-col gap-2">
                    <div class="flex bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm">
                        <button onclick="switchImg('htf')" id="btn-img-htf" class="flex-1 py-1.5 text-xs font-bold rounded hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400">HTF</button>
                        <button onclick="switchImg('ltf')" id="btn-img-ltf" class="flex-1 py-1.5 text-xs font-bold rounded hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400">LTF</button>
                        <button onclick="switchImg('entry')" id="btn-img-entry" class="flex-1 py-1.5 text-xs font-bold rounded bg-slate-800 dark:bg-blue-600 text-white shadow">ENTRY</button>
                    </div>
                    <div class="flex-1 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-center min-h-[300px] relative overflow-hidden group">
                        <img id="modal-img" src="" class="max-w-full max-h-full object-contain" alt="Trade Image">
                        <div id="modal-placeholder" class="hidden flex flex-col items-center text-slate-400"><i class="fa-regular fa-image text-3xl mb-2"></i><span class="text-xs">Kh√¥ng c√≥ ·∫£nh</span></div>
                        <a id="modal-zoom" href="#" target="_blank" class="absolute bottom-3 right-3 bg-white/90 dark:bg-slate-700/90 p-2 rounded-full shadow-md text-slate-700 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition opacity-0 group-hover:opacity-100"><i class="fa-solid fa-expand"></i></a>
                    </div>
                </div>
                <div class="md:w-80 space-y-3">
                    <div class="bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm">
                        <div class="text-[10px] font-bold text-slate-400 uppercase mb-1">Di·ªÖn bi·∫øn</div>
                        <p id="modal-note" class="text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap leading-relaxed">...</p>
                    </div>
                    <div class="bg-yellow-50 dark:bg-yellow-900/10 p-4 rounded-lg border border-yellow-100 dark:border-yellow-900/30 shadow-sm">
                        <div class="text-[10px] font-bold text-yellow-600 dark:text-yellow-500 uppercase mb-1">B√†i h·ªçc</div>
                        <p id="modal-concl" class="text-sm text-slate-800 dark:text-slate-200 font-medium whitespace-pre-wrap leading-relaxed">...</p>
                    </div>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm text-center">
                            <div class="text-[10px] text-slate-400 uppercase">K·∫øt qu·∫£</div>
                            <div id="modal-res" class="font-bold text-lg">Win</div>
                        </div>
                        <div class="bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm text-center">
                            <div class="text-[10px] text-slate-400 uppercase">RR</div>
                            <div id="modal-rr" class="font-bold text-lg text-slate-700 dark:text-slate-300">2.5R</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   <script>
        let globalData = [];
        let currentDetail = {};
        let myChart = null; // Bi·∫øn l∆∞u bi·ªÉu ƒë·ªì
        const ITEMS_PER_PAGE = 5;

        // --- INIT & THEME ---
        window.onload = function() {
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
                document.getElementById('theme-icon').className = "fa-solid fa-sun";
            }
            // C·∫•u h√¨nh m·∫∑c ƒë·ªãnh cho ChartJS font ch·ªØ
            Chart.defaults.font.family = "'Segoe UI', 'Roboto', sans-serif";
            reloadData(); 
        };

        function toggleTheme() {
            const html = document.documentElement;
            const icon = document.getElementById('theme-icon');
            if (html.classList.contains('dark')) {
                html.classList.remove('dark'); localStorage.theme = 'light'; icon.className = "fa-solid fa-moon";
            } else {
                html.classList.add('dark'); localStorage.theme = 'dark'; icon.className = "fa-solid fa-sun";
            }
            // V·∫Ω l·∫°i bi·ªÉu ƒë·ªì ƒë·ªÉ c·∫≠p nh·∫≠t m√†u ch·ªØ/l∆∞·ªõi
            if(document.getElementById('tab-stats').classList.contains('active')) renderBlockStats();
        }

        function switchTab(tab) {
            ['form', 'history', 'stats','playbook'].forEach(t => {
                document.getElementById('view-' + t).classList.add('hidden');
                document.getElementById('tab-' + t).classList.remove('active');
            });
            document.getElementById('view-' + tab).classList.remove('hidden');
            document.getElementById('tab-' + tab).classList.add('active');

            if (tab === 'history') renderHistoryTable();
            if (tab === 'stats') {
                // Hack nh·ªè ƒë·ªÉ Chart hi·ªÉn th·ªã ƒë√∫ng k√≠ch th∆∞·ªõc khi chuy·ªÉn t·ª´ tab ·∫©n sang hi·ªán
                setTimeout(() => renderBlockStats(), 100); 
            }
            if (tab === 'playbook') { renderPlaybook(); }
        }
        function renderPlaybook() {
            const container = document.getElementById('playbook-grid');
            const emptyState = document.getElementById('playbook-empty');
            const filterVal = document.getElementById('playbook-filter').value;
            
            if (!globalData.length) return;

            // 1. L·ªçc l·∫•y l·ªánh WIN v√† C√ì ·∫¢NH (Entry Img)
            let wins = globalData.filter(d => {
                // ƒêi·ªÅu ki·ªán 1: Ph·∫£i l√† WIN
                if (d.result !== 'Win') return false;
                // ƒêi·ªÅu ki·ªán 2: Ph·∫£i c√≥ link ·∫£nh Entry (ƒë·ªô d√†i > 5 k√Ω t·ª±)
                if (!d.entryImg || d.entryImg.length < 5) return false;
                // ƒêi·ªÅu ki·ªán 3: L·ªçc theo Select box
                if (filterVal !== 'all' && d.pattern !== filterVal) return false;
                return true;
            });

            // 2. S·∫Øp x·∫øp: L·ªánh n√†o RR cao nh·∫•t l√™n ƒë·∫ßu (Best of Best)
            wins.sort((a, b) => parseFloat(b.rr || 0) - parseFloat(a.rr || 0));

            container.innerHTML = "";

            if (wins.length === 0) {
                container.classList.add('hidden');
                emptyState.classList.remove('hidden');
                return;
            } else {
                container.classList.remove('hidden');
                emptyState.classList.add('hidden');
            }

            // 3. Render Cards
            wins.forEach(item => {
                // T√¨m index g·ªëc ƒë·ªÉ khi click v√†o v·∫´n m·ªü modal ƒë√∫ng l·ªánh ƒë√≥
                // L∆∞u √Ω: data ·ªü ƒë√¢y l√† b·∫£n copy ƒë√£ filter, n√™n ta d√πng time ƒë·ªÉ ƒë·ªëi chi·∫øu ho·∫∑c l∆∞u index t·ª´ ƒë·∫ßu
                // C√°ch ƒë∆°n gi·∫£n nh·∫•t: T√¨m trong globalData
                const originalIndex = globalData.findIndex(g => g.time === item.time && g.pattern === item.pattern);

                const div = document.createElement('div');
                div.className = "group relative bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden cursor-pointer hover:shadow-xl transition-all hover:-translate-y-1";
                div.onclick = () => openModal(originalIndex);

                div.innerHTML = `
                    <div class="aspect-video w-full overflow-hidden bg-slate-100 relative">
                        <img src="${item.entryImg}" loading="lazy" class="w-full h-full object-cover transition duration-500 group-hover:scale-105" onerror="this.src='https://placehold.co/600x400?text=No+Image'">
                        
                        <div class="absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded shadow-lg backdrop-blur-sm bg-opacity-90">
                            +${parseFloat(item.rr || 0)}R
                        </div>
                    </div>

                    <div class="p-4">
                        <div class="flex justify-between items-start mb-2">
                            <span class="inline-block bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wider">
                                ${item.pattern || 'Setup'}
                            </span>
                            <span class="text-[10px] text-slate-400 font-bold">${item.time.split(' ')[0]}</span>
                        </div>
                        
                        <p class="text-sm text-slate-700 dark:text-slate-300 line-clamp-2 font-medium">
                            ${item.note || 'Kh√¥ng c√≥ ghi ch√∫'}
                        </p>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // --- API & DATA ---
        function reloadData() {
            const icon = document.getElementById('icon-reload');
            icon.classList.add('spin');

            fetch(API_URL + "?mode=options").then(r => r.json()).then(d => {
                if (d.patterns) document.getElementById('dl-pattern').innerHTML = d.patterns.map(v => `<option value="${v}">`).join('');
                if (d.money) document.getElementById('dl-money').innerHTML = d.money.map(v => `<option value="${v}">`).join('');
            });

            fetch(API_URL + "?mode=history").then(r => r.json()).then(d => {
                globalData = d;
                updateMoneyFilterFromData();
                renderHistoryTable();
                if(document.getElementById('tab-stats').classList.contains('active')) renderBlockStats();
                document.getElementById('loading-history').classList.add('hidden');
            }).finally(() => {
                setTimeout(() => icon.classList.remove('spin'), 500);
            });
        }

        function updateMoneyFilterFromData() {
            const selectEl = document.getElementById('filter-money');
            if(!selectEl || !globalData.length) return;
            const uniqueMoney = [...new Set(globalData.map(item => item.moneyFlow))].filter(m => m && m.trim() !== "");
            let html = '<option value="all">T·∫•t c·∫£ D√≤ng ti·ªÅn</option>';
            uniqueMoney.sort().forEach(m => { html += `<option value="${m}">${m}</option>`; });
            selectEl.innerHTML = html;
        }

        // --- RENDER HISTORY TABLE ---
        function renderHistoryTable() {
            const tbody = document.getElementById('history-table-body');
            const totalEl = document.getElementById('total-trades');
            if(totalEl) totalEl.innerText = globalData.length;

            if (!globalData.length) { tbody.innerHTML = `<tr><td colspan="5" class="p-8 text-center text-slate-400 italic">Ch∆∞a c√≥ d·ªØ li·ªáu</td></tr>`; return; }

            let html = '';
            const total = globalData.length;
            globalData.forEach((item, idx) => {
                let stt = total - idx; 
                let badge = 'bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400';
                if (item.result === 'Win') badge = 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400';
                if (item.result === 'Loss') badge = 'bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400';
                if (item.result === 'ƒêang ch·∫°y') badge = 'bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400';

                html += `<tr onclick="openModal(${idx})" class="hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition border-b border-slate-50 dark:border-slate-700/50">
                    <td class="pl-4 py-3 font-bold text-slate-400 dark:text-slate-500 text-xs">${stt}</td>
                    <td class="py-3"><div class="font-medium text-slate-700 dark:text-slate-200">${item.time.split(' ')[1] || item.time}</div><div class="text-[10px] text-slate-400 dark:text-slate-500 font-bold">${item.time.split(' ')[0]}</div></td>
                    <td class="font-bold text-slate-600 dark:text-slate-300 text-xs">${item.pattern || '-'}</td>
                    <td class="text-center"><span class="px-2 py-1 rounded text-[10px] font-bold uppercase ${badge}">${item.result}</span></td>
                    <td class="text-center pr-4 font-bold text-slate-700 dark:text-slate-300 text-xs">${item.rr ? item.rr + 'R' : '-'}</td>
                </tr>`;
            });
            tbody.innerHTML = html;
        }

        // --- RENDER STATS & CHART (QUAN TR·ªåNG) ---
        function renderBlockStats() {
            const container = document.getElementById('blocks-container');
            if (!globalData.length) return;

            // 1. L·ªåC D·ªÆ LI·ªÜU
            const volFilter = document.querySelector('input[name="volFilter"]:checked').value;
            const moneyFilter = document.getElementById('filter-money').value;
            
            // T·∫°o m·∫£ng d·ªØ li·ªáu ƒë√£ l·ªçc
            let filteredData = [];
            globalData.forEach((d, idx) => {
                let pass = true;
                if (volFilter === 'C√≥' && d.hasVol !== 'C√≥') pass = false;
                if (volFilter === 'Kh√¥ng' && d.hasVol === 'C√≥') pass = false;
                if (moneyFilter !== 'all' && d.moneyFlow !== moneyFilter) pass = false;
                
                if (pass) {
                    d.originalIndex = idx; // Gi·ªØ index g·ªëc
                    filteredData.push(d);
                }
            });

            // 2. V·∫º BI·ªÇU ƒê·ªí V·ªöI D·ªÆ LI·ªÜU ƒê√É L·ªåC
            renderEquityChart(filteredData);

            // 3. X·ª¨ L√ù BLOCK UI
            container.innerHTML = "";
            if(!filteredData.length) {
                container.innerHTML = '<div class="col-span-full text-center text-slate-400 py-10">Kh√¥ng t√¨m th·∫•y l·ªánh ph√π h·ª£p</div>';
                return;
            }

            // Group theo Pattern
            let grouped = {};
            filteredData.forEach(d => {
                let k = d.pattern || "Kh√°c";
                if (!grouped[k]) grouped[k] = [];
                grouped[k].push(d);
            });

            let keys = Object.keys(grouped).sort((a, b) => grouped[b].length - grouped[a].length);
            keys.forEach(k => {
                let list = grouped[k];
                let win = list.filter(x => x.result === 'Win').length;
                let loss = list.filter(x => x.result === 'Loss').length;
                let wr = (win + loss) > 0 ? Math.round(win / (win + loss) * 100) : 0;
                let rSum = list.reduce((a, b) => {
                   let r = 0;
                   if(b.result === 'Win') r = parseFloat(b.rr || 0);
                   else if(b.result === 'Loss') r = -1; 
                   return a + r;
                }, 0);

                const groupDiv = document.createElement('div');
                groupDiv.className = "bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden h-fit flex flex-col transition-colors mb-4";
                groupDiv.innerHTML = `<div class="p-3 bg-slate-50 dark:bg-slate-750 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center sticky top-0 z-10"><span class="font-bold text-sm text-slate-700 dark:text-slate-200 truncate pr-2 w-1/2" title="${k}">${k}</span><div class="flex gap-1 text-[10px] font-bold"><span class="${wr >= 50 ? 'text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400' : 'text-red-500 bg-red-50 dark:bg-red-900/20 dark:text-red-400'} px-1.5 py-0.5 rounded border border-slate-100 dark:border-slate-600">${wr}%</span><span class="${rSum >= 0 ? 'text-green-600 bg-green-50 dark:bg-green-900/20 dark:text-green-400' : 'text-red-500 bg-red-50 dark:bg-red-900/20 dark:text-red-400'} px-1.5 py-0.5 rounded border border-slate-100 dark:border-slate-600">${rSum > 0 ? '+' : ''}${rSum.toFixed(1)}R</span></div></div>`;

                const contentDiv = document.createElement('div'); contentDiv.className = "p-3 space-y-3";
                const pagDiv = document.createElement('div'); pagDiv.className = "p-2 border-t border-slate-100 dark:border-slate-700 flex justify-center gap-1";
                groupDiv.appendChild(contentDiv);
                
                let totalBlocks = Math.ceil(list.length / 10);
                renderBlocksForGroup(contentDiv, pagDiv, list, 1, totalBlocks, k);
                if(totalBlocks > ITEMS_PER_PAGE) groupDiv.appendChild(pagDiv);
                container.appendChild(groupDiv);
            });
        }

        // --- H√ÄM V·∫º BI·ªÇU ƒê·ªí ---
        function renderEquityChart(data) {
            const ctx = document.getElementById('equityChart');
            if(!ctx) return;

            // 1. H·ªßy bi·ªÉu ƒë·ªì c≈© n·∫øu c√≥
            if(myChart) { myChart.destroy(); }

            // 2. Chu·∫©n b·ªã d·ªØ li·ªáu: C·∫ßn ƒë·∫£o ng∆∞·ª£c m·∫£ng ƒë·ªÉ t√≠nh t·ª´ qu√° kh·ª© -> hi·ªán t·∫°i
            // Copy m·∫£ng ƒë·ªÉ kh√¥ng ·∫£nh h∆∞·ªüng d·ªØ li·ªáu g·ªëc, sau ƒë√≥ ƒë·∫£o ng∆∞·ª£c
            const reversedData = [...data].reverse(); 
            
            let labels = [];
            let values = [];
            let cumulativeR = 0;
            
            // ƒêi·ªÉm b·∫Øt ƒë·∫ßu l√† 0
            labels.push(0);
            values.push(0);

            reversedData.forEach((d, i) => {
                let r = 0;
                if(d.result === 'Win') r = parseFloat(d.rr || 0);
                else if(d.result === 'Loss') r = -1;
                // N·∫øu BE ho·∫∑c ƒêang ch·∫°y th√¨ r = 0 (gi·ªØ nguy√™n ƒë∆∞·ªùng cong)
                
                cumulativeR += r;
                labels.push(i + 1);
                values.push(cumulativeR);
            });

            // Hi·ªÉn th·ªã t·ªïng R l√™n g√≥c
            const info = document.getElementById('chart-info');
            if(info) {
                info.innerText = `Total: ${cumulativeR.toFixed(1)}R`;
                info.className = `text-xs font-bold ${cumulativeR >= 0 ? 'text-green-500' : 'text-red-500'}`;
            }

            // 3. Ki·ªÉm tra Dark Mode ƒë·ªÉ ch·ªânh m√†u
            const isDark = document.documentElement.classList.contains('dark');
            const gridColor = isDark ? '#334155' : '#e2e8f0'; // slate-700 vs slate-200
            const textColor = isDark ? '#94a3b8' : '#64748b'; // slate-400 vs slate-500
            const lineColor = cumulativeR >= 0 ? '#10b981' : '#ef4444'; // Green vs Red
            const areaColor = cumulativeR >= 0 ? 'rgba(16, 185, 129, 0.1)' : 'rgba(239, 68, 68, 0.1)';

            // 4. T·∫°o Chart m·ªõi
            myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'L·ª£i nhu·∫≠n (R)',
                        data: values,
                        borderColor: lineColor,
                        backgroundColor: areaColor,
                        borderWidth: 2,
                        pointRadius: 0, // ·∫®n ƒëi·ªÉm tr√≤n ƒë·ªÉ ƒë∆∞·ªùng m∆∞·ª£t h∆°n
                        pointHoverRadius: 4,
                        fill: true,
                        tension: 0.1 // ƒê·ªô cong m·ªÅm m·∫°i
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'index', intersect: false },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            callbacks: {
                                label: function(context) { return 'L·ª£i nhu·∫≠n: ' + context.parsed.y.toFixed(1) + 'R'; }
                            }
                        }
                    },
                    scales: {
                        x: {
                            display: false, // ·∫®n tr·ª•c X cho g·ªçn
                            grid: { display: false }
                        },
                        y: {
                            grid: { color: gridColor, borderDash: [5, 5] },
                            ticks: { color: textColor, font: {size: 10, weight: 'bold'} },
                            border: { display: false }
                        }
                    }
                }
            });
        }

        // --- RENDER BLOCKS CON ---
        function renderBlocksForGroup(contentDiv, pagDiv, list, page, totalBlocks, groupKey) {
            contentDiv.innerHTML = ""; pagDiv.innerHTML = "";
            const startBlockIdx = (page - 1) * ITEMS_PER_PAGE;
            const endBlockIdx = Math.min(startBlockIdx + ITEMS_PER_PAGE, totalBlocks);

            for (let b = startBlockIdx; b < endBlockIdx; b++) {
                let i = b * 10;
                let chunk = list.slice(i, i + 10);
                let gridHTML = '', cR = 0;
                
                chunk.forEach(t => {
                    let cls = 'bg-be', txt = 'B';
                    if (t.result === 'Win') { cls = 'bg-win'; txt = 'W'; cR += parseFloat(t.rr || 0); }
                    else if (t.result === 'Loss') { cls = 'bg-loss'; txt = 'L'; cR -= 1; }
                    else if (t.result === 'ƒêang ch·∫°y') { cls = 'bg-run'; txt = 'R'; }
                    gridHTML += `<div onclick="openModal(${t.originalIndex})" class="mini-box ${cls} cursor-pointer transition transform hover:scale-110 hover:shadow-lg" title="${t.time}">${txt}</div>`;
                });
                for (let x = chunk.length; x < 10; x++) gridHTML += `<div class="mini-box bg-empty"></div>`;

                contentDiv.innerHTML += `<div class="border border-slate-100 dark:border-slate-700 rounded p-2 relative overflow-hidden fade-in"><div class="absolute left-0 top-0 bottom-0 w-1 ${cR >= 0 ? 'bg-green-500' : 'bg-red-500'}"></div><div class="flex justify-between text-[10px] font-bold text-slate-400 mb-1 pl-2"><span>Block ${b + 1}</span><span class="${cR >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-500 dark:text-red-400'}">${cR > 0 ? '+' : ''}${cR.toFixed(1)}R</span></div><div class="mini-grid pl-2">${gridHTML}</div></div>`;
            }

            const totalPages = Math.ceil(totalBlocks / ITEMS_PER_PAGE);
            if (totalPages > 1) {
                let btnPrev = document.createElement('button'); btnPrev.innerHTML = '<i class="fa-solid fa-chevron-left"></i>';
                btnPrev.className = `w-8 h-8 rounded hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 text-xs ${page === 1 ? 'opacity-50 cursor-not-allowed' : ''}`;
                btnPrev.onclick = () => { if(page > 1) renderBlocksForGroup(contentDiv, pagDiv, list, page - 1, totalBlocks, groupKey); };
                pagDiv.appendChild(btnPrev);
                for (let p = 1; p <= totalPages; p++) {
                    let btn = document.createElement('button'); btn.innerText = p;
                    if (p === page) btn.className = "w-8 h-8 rounded bg-slate-800 dark:bg-blue-600 text-white font-bold text-xs shadow-sm";
                    else btn.className = "w-8 h-8 rounded hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 text-xs font-medium";
                    btn.onclick = () => renderBlocksForGroup(contentDiv, pagDiv, list, p, totalBlocks, groupKey);
                    pagDiv.appendChild(btn);
                }
                let btnNext = document.createElement('button'); btnNext.innerHTML = '<i class="fa-solid fa-chevron-right"></i>';
                btnNext.className = `w-8 h-8 rounded hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 text-xs ${page === totalPages ? 'opacity-50 cursor-not-allowed' : ''}`;
                btnNext.onclick = () => { if(page < totalPages) renderBlocksForGroup(contentDiv, pagDiv, list, page + 1, totalBlocks, groupKey); };
                pagDiv.appendChild(btnNext);
            }
        }

        // --- C√ÅC H√ÄM X·ª¨ L√ù MODAL & FORM (GI·ªÆ NGUY√äN) ---
        function openModal(idx) {
            currentDetail = globalData[idx];
            document.getElementById('modal-title').innerText = currentDetail.pattern || 'Chi ti·∫øt l·ªánh';
            document.getElementById('modal-time').innerText = currentDetail.time;
            document.getElementById('modal-note').innerText = currentDetail.note || "Kh√¥ng c√≥ ghi ch√∫";
            document.getElementById('modal-concl').innerText = currentDetail.conclusion || "Kh√¥ng c√≥ b√†i h·ªçc";
            document.getElementById('modal-rr').innerText = (currentDetail.rr || 0) + 'R';
            const rEl = document.getElementById('modal-res');
            rEl.innerText = currentDetail.result;
            rEl.className = "font-bold text-lg " + (currentDetail.result==='Win'?'text-green-600 dark:text-green-400':(currentDetail.result==='Loss'?'text-red-600 dark:text-red-400':'text-blue-600 dark:text-blue-400'));
            switchImg('entry');
            document.getElementById('detailModal').classList.remove('hidden');
        }

        function switchImg(type) {
            ['htf', 'ltf', 'entry'].forEach(t => { document.getElementById('btn-img-' + t).className = "flex-1 py-1.5 text-xs font-bold rounded hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400"; });
            document.getElementById('btn-img-' + type).className = "flex-1 py-1.5 text-xs font-bold rounded bg-slate-800 dark:bg-blue-600 text-white shadow transition";
            const img = document.getElementById('modal-img'); const ph = document.getElementById('modal-placeholder'); const zoom = document.getElementById('modal-zoom');
            let url = (type === 'htf' ? currentDetail.htf : (type === 'ltf' ? currentDetail.ltf : currentDetail.entryImg));
            if (url && url.length > 5) { img.src = url; img.classList.remove('hidden'); ph.classList.add('hidden'); zoom.classList.remove('opacity-0', 'pointer-events-none'); zoom.href = url; } 
            else { img.classList.add('hidden'); ph.classList.remove('hidden'); zoom.classList.add('opacity-0', 'pointer-events-none'); }
        }

        function submitTrade(e) {
            e.preventDefault(); const btn = document.getElementById('btnSubmit'); const oldHtml = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> ƒêang l∆∞u...'; btn.disabled = true;
            const fd = new FormData(e.target); const data = Object.fromEntries(fd.entries()); data.co_vol = document.getElementById('co_vol').checked;
            fetch(API_URL, { method: "POST", mode: "no-cors", headers: { "Content-Type": "application/json" }, body: JSON.stringify(data) })
            .then(() => { alert("‚úÖ ƒê√£ l∆∞u th√†nh c√¥ng!"); e.target.reset(); document.getElementById('sel-result').value = 'ƒêang ch·∫°y'; updateColor(document.getElementById('sel-result')); reloadData(); })
            .catch(err => alert("L·ªói: " + err)).finally(() => { btn.innerHTML = oldHtml; btn.disabled = false; });
        }
        function closeModal() { document.getElementById('detailModal').classList.add('hidden'); }
        function updateColor(s) { const val = s.value; if(val === 'Win') s.className = "input-custom font-bold text-green-600 bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400"; else if(val === 'Loss') s.className = "input-custom font-bold text-red-600 bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400"; else if(val === 'BE') s.className = "input-custom font-bold text-slate-500 bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-400"; else s.className = "input-custom font-bold text-blue-600 bg-blue-50 border-blue-200 dark:bg-slate-900 dark:border-slate-600 dark:text-blue-400"; }
    </script>
</body>
</html>